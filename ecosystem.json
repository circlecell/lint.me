{
    /**
     * Application configuration section
     * http://pm2.keymetrics.io/docs/usage/application-declaration/
     */
    apps: [{
        name: process.env.DEPLOY_ENV === 'production' ? "lint.me" : "stage.lint.me",
        script: "packages/backend",
        node_args: '--harmony-async-await',
        env: {
            NODE_ENV: "production"
        },
        env_production: {
            PORT: 5003,
            DEPLOY_ENV: 'production'
        },
        env_stage: {
            PORT: 5503,
            DEPLOY_ENV: 'stage'
        }
    }],
    deploy: {
        production: {
            user: "deployer",
            host: "192.241.157.86",
            ref: "origin/master",
            repo: "git@github.com:circlecell/lint.me.git",
            path: "/var/web/lint.me/production",
            ssh_options: ["StrictHostKeyChecking=no", "PasswordAuthentication=no"],
            "post-deploy": "npm run post-deploy-remote && npm start -- --env production"
        },
        stage: {
            user: "deployer",
            host: "192.241.157.86",
            ref: "origin/stage",
            repo: "git@github.com:circlecell/lint.me.git",
            path: "/var/web/lint.me/stage",
            ssh_options: ["StrictHostKeyChecking=no", "PasswordAuthentication=no"],
            "post-deploy": "npm run post-deploy-remote && npm start -- --env stage"
        }
    }
}
