{
    /**
     * Application configuration section
     * http://pm2.keymetrics.io/docs/usage/application-declaration/
     */
    apps: [{
        xxx: console.log(process.env.DEPLOY_ENV),
        name: process.env.DEPLOY_ENV === 'production' ? "lint.me" : "stage.lint.me",
        script: "packages/backend",
        node_args: '--harmony-async-await',
        env: {
            NODE_ENV: "production"
        },
        env_production: {
            PORT: 5003

        },
        env_stage: {
            PORT: 5503
        }
    }],
    deploy: {
        production: {
            user: "deployer",
            host: "192.241.157.86",
            ref: "origin/master",
            repo: "git@github.com:circlecell/lint.me.git",
            path: "/var/web/lint.me/production",
            ssh_options: ["StrictHostKeyChecking=no", "PasswordAuthentication=no"],
            "post-deploy": "DEPLOY_ENV=production npm run post-deploy-remote && pm2 startOrRestart ecosystem.json --watch --env production"
        },
        stage: {
            user: "deployer",
            host: "192.241.157.86",
            ref: "origin/stage",
            repo: "git@github.com:circlecell/lint.me.git",
            path: "/var/web/lint.me/stage",
            ssh_options: ["StrictHostKeyChecking=no", "PasswordAuthentication=no"],
            "post-deploy": "DEPLOY_ENV=stage npm run post-deploy-remote && pm2 startOrRestart ecosystem.json --watch --env stage"
        }
    }
}
